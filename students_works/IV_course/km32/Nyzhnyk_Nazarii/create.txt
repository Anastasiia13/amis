
  CREATE TABLE "ADDRESS" 
   (	"ADDRESS_STREET_NAME" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"ADDRESS_HOME_NUM" NUMBER NOT NULL ENABLE, 
	"ADDRESS_STREET_AREA" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "ADDRESS_PK" PRIMARY KEY ("ADDRESS_STREET_NAME", "ADDRESS_HOME_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

  CREATE TABLE "CAR" 
   (	"CAR_NUMBER" VARCHAR2(8 BYTE) NOT NULL ENABLE, 
	"CAR_COLOR" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"CAR_MODEL" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "CAR_PK" PRIMARY KEY ("CAR_NUMBER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "CLIENT" 
   (	"CLIENT_PHONE_NUM" NUMBER(10,0) NOT NULL ENABLE, 
	"CLIENT_NAME" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"CLIENT_EMAIL" VARCHAR2(20 BYTE), 
	"CLIENT_PASSWORD" VARCHAR2(20 BYTE), 
	 CONSTRAINT "CLIENT_PK" PRIMARY KEY ("CLIENT_PHONE_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "DRIVER" 
   (	"DRIVER_PHONE_NUM" NUMBER(10,0) NOT NULL ENABLE, 
	"DRIVER_NAME" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"DRIVER_PASS" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"DRIVER_EMAIL" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "DRIVER_PK" PRIMARY KEY ("DRIVER_PHONE_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 
  CREATE TABLE "DRIVER_ON_CAR" 
   (	"CAR_NUMBER" VARCHAR2(8 BYTE) NOT NULL ENABLE, 
	"DRIVER_PHONE_NUM" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "DRIVER_ON_CAR_PK" PRIMARY KEY ("CAR_NUMBER", "DRIVER_PHONE_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "DRIVER_ON_CAR_CAR_FK1" FOREIGN KEY ("CAR_NUMBER")
	  REFERENCES "CAR" ("CAR_NUMBER") ENABLE, 
	 CONSTRAINT "DRIVER_ON_CAR_DRIVER_FK1" FOREIGN KEY ("DRIVER_PHONE_NUM")
	  REFERENCES "DRIVER" ("DRIVER_PHONE_NUM") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 

  CREATE TABLE "REQUEST" 
   (	"CLIENT_NAME" VARCHAR2(20 BYTE) DEFAULT 0 NOT NULL ENABLE, 
	"STREET_PICKUP" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"HOME_NUM_PICKUP" NUMBER(3,0) NOT NULL ENABLE, 
	"STREET_DESTINATION" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"HOME_NUM_DEST" NUMBER(3,0) NOT NULL ENABLE, 
	"CLIENT_PHONE_NUM" NUMBER(10,0) NOT NULL ENABLE, 
	"DONE" NUMBER(1,0), 
	 CONSTRAINT "REQUEST_PK" PRIMARY KEY ("STREET_PICKUP", "HOME_NUM_PICKUP", "STREET_DESTINATION", "HOME_NUM_DEST", "CLIENT_PHONE_NUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "REQUEST_ADDRESS_FK1" FOREIGN KEY ("STREET_PICKUP", "HOME_NUM_PICKUP")
	  REFERENCES "ADDRESS" ("ADDRESS_STREET_NAME", "ADDRESS_HOME_NUM") ENABLE, 
	 CONSTRAINT "REQUEST_ADDRESS_FK2" FOREIGN KEY ("STREET_DESTINATION", "HOME_NUM_DEST")
	  REFERENCES "ADDRESS" ("ADDRESS_STREET_NAME", "ADDRESS_HOME_NUM") ENABLE, 
	 CONSTRAINT "REQUEST_CLIENT_FK1" FOREIGN KEY ("CLIENT_PHONE_NUM")
	  REFERENCES "CLIENT" ("CLIENT_PHONE_NUM") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "CLIENTS_ORDER" 
   (	"CLIENT_PHONE_NUM" NUMBER(10,0) NOT NULL ENABLE, 
	"DRIVER_PHONE_NUM" NUMBER(10,0) NOT NULL ENABLE, 
	"CAR_NUMBER" VARCHAR2(8 BYTE) NOT NULL ENABLE, 
	"STREET_PICKUP" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"HOME_NUM_PICKUP" NUMBER(3,0) NOT NULL ENABLE, 
	"STREET_DESTINATION" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"HOME_NUM_DEST" NUMBER(3,0) NOT NULL ENABLE, 
	 CONSTRAINT "CLIENTS_ORDER_PK" PRIMARY KEY ("CLIENT_PHONE_NUM", "DRIVER_PHONE_NUM", "CAR_NUMBER", "STREET_PICKUP", "HOME_NUM_PICKUP", "STREET_DESTINATION", "HOME_NUM_DEST")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "CLIENTS_ORDER_DRIVER_ON_C_FK1" FOREIGN KEY ("CAR_NUMBER", "DRIVER_PHONE_NUM")
	  REFERENCES "DRIVER_ON_CAR" ("CAR_NUMBER", "DRIVER_PHONE_NUM") ENABLE, 
	 CONSTRAINT "CLIENTS_ORDER_REQUEST_FK1" FOREIGN KEY ("STREET_PICKUP", "HOME_NUM_PICKUP", "STREET_DESTINATION", "HOME_NUM_DEST", "CLIENT_PHONE_NUM")
	  REFERENCES "REQUEST" ("STREET_PICKUP", "HOME_NUM_PICKUP", "STREET_DESTINATION", "HOME_NUM_DEST", "CLIENT_PHONE_NUM") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
 




  CREATE OR REPLACE FORCE VIEW "DRIVERLOGCHECK" ("DRIVER_PHONE_NUM", "DRIVER_EMAIL", "DRIVER_PASS") AS 
  SELECT DRIVER_PHONE_NUM, DRIVER_EMAIL, DRIVER_PASS
    
FROM DRIVER;

  CREATE OR REPLACE FORCE VIEW "LOGINCHECK" ("CLIENT_EMAIL", "CLIENT_PASSWORD", "CLIENT_PHONE_NUM", "CLIENT_NAME") AS 
  SELECT CLIENT_EMAIL, CLIENT_PASSWORD, CLIENT_PHONE_NUM, CLIENT_NAME
    
FROM CLIENT;

  CREATE OR REPLACE FORCE VIEW "REQUESTVIEW" ("CLIENT_NAME", "STREET_PICKUP", "HOME_NUM_PICKUP", "STREET_DESTINATION", "HOME_NUM_DEST", "CLIENT_PHONE_NUM", "DONE") AS 
  SELECT "CLIENT_NAME","STREET_PICKUP","HOME_NUM_PICKUP","STREET_DESTINATION","HOME_NUM_DEST","CLIENT_PHONE_NUM","DONE"
    
FROM REQUEST;

 create or replace 
PROCEDURE FLAGCHANGE 
(
  STREET_PICKUP1 IN VARCHAR2  
, HOME_NUM_PICKUP1 IN NUMBER  
, STREET_DESTINATION1 IN VARCHAR2  
, HOME_NUM_DEST1 IN NUMBER  
, CLIENT_PHONE_NUM1 IN NUMBER  
) AS 
BEGIN
  UPDATE request SET done = 1 
  where 
  street_pickup = street_pickup1 AND
  home_num_pickup = home_num_pickup1 AND
  street_destination = street_destination1 AND
  home_num_dest = home_num_dest1 AND
  client_phone_num = client_phone_num1;
  
END FLAGCHANGE;
/
create or replace 
PROCEDURE INSORD 
(
  CLIENT_PHONE_NUM IN NUMBER  
, DRIVER_PHONE_NUM IN NUMBER  
, CAR_NUMBER IN VARCHAR2  
, STREET_PICKUP IN VARCHAR2  
, HOME_NUM_PICKUP IN NUMBER  
, STREET_DESTINATION IN VARCHAR2  
, HOME_NUM_DESTINATION IN NUMBER  
) AS 
BEGIN
  INSERT INTO clients_order values (client_phone_num, driver_phone_num, car_number, street_pickup, home_num_pickup, street_destination, home_num_destination);
END INSORD;
/
create or replace 
PROCEDURE NEWREQ 
(
  CLIENT_NAME IN VARCHAR2  
, STREET_PICKUP IN VARCHAR2  
, HOME_NUM_PICKUP IN NUMBER  
, STREET_DESTINATION IN VARCHAR2  
, HOME_NUM_DEST IN NUMBER  
, CLIENT_PHONE IN NUMBER  
) AS 
BEGIN
  INSERT INTO request values (client_name, street_pickup, home_num_pickup, street_destination, home_num_dest, client_phone, 0);
END NEWREQ;
/
create or replace 
PROCEDURE REGCLIENT 
(
  CLIENT_PHONE_NUM IN NUMBER  
, CLIENT_NAME IN VARCHAR2  
, CLIENT_EMAIL IN VARCHAR2  
, CLIENT_PASSWORD IN VARCHAR2  
) AS 
BEGIN
  INSERT INTO client VALUES (client_phone_num, client_name, client_email, client_password);
END REGCLIENT;
/
create or replace 
PROCEDURE REGDRIVER 
(
  DRIVER_PHONE_NUM IN NUMBER  
, DRIVER_NAME IN VARCHAR2  
, DRIVER_PASS IN VARCHAR2  
, DRIVER_EMAIL IN VARCHAR2  
, CAR_NUMBER IN VARCHAR2  
, CAR_COLOR IN VARCHAR2  
, CAR_MODEL IN VARCHAR2  
) AS 
BEGIN
  INSERT INTO driver values (driver_phone_num, driver_name, driver_pass, driver_email);
  insert into car values (car_number, car_color, car_model);
  INsert INTO driver_on_car (car_number, driver_phone_num) values (car_number,driver_phone_num);
END REGDRIVER;
/
create or replace 
PROCEDURE TEMPUSER 
(
  CLIENT_PHONE_NUM IN NUMBER  
, CLIENT_NAME IN VARCHAR2  
) AS 
BEGIN
  INSERT INTO client (client_phone_num, client_name) values (client_phone_num, client_name);
END TEMPUSER;


 

